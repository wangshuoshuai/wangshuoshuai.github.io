<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>时光告白｜2026元旦限定</title>
    <!-- 引入字体 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700;900&family=Dancing+Script:wght@700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 全局样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-color: #FFF9F5; /* 奶白色 */
            --secondary-color: #F8A3B0; /* 浅豆沙粉 */
            --accent-color: #FFD700; /* 淡金色 */
            --text-color: #5C4D3C; /* 主文字色 */
            --light-text: #B8865C; /* 浅文字色 */
            --shadow: 0 10px 30px rgba(210, 105, 106, 0.15);
            --transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Noto Serif SC', serif;
            background-color: var(--primary-color);
            color: var(--text-color);
            line-height: 1.7;
            overflow-x: hidden;
            position: relative;
        }
        
        /* 流星雨效果 */
        .meteor-shower {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 3;
        }
        
        .meteor {
            position: absolute;
            width: 2px;
            height: 100px;
            background: linear-gradient(to bottom, transparent, white, transparent);
            opacity: 0;
            filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.8));
        }
        
        /* 花朵飘落效果 */
        .petal {
            position: fixed;
            width: 25px;
            height: 25px;
            background: linear-gradient(135deg, #F8A3B0, #FFB6C1);
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            opacity: 0.7;
            pointer-events: none;
            z-index: 2;
            animation: fall linear infinite;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* 星光效果 */
        .star {
            position: fixed;
            background-color: rgba(255, 215, 0, 0.6);
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
            animation: twinkle 3s infinite alternate;
        }
        
        @keyframes twinkle {
            0%, 100% {
                opacity: 0.3;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }
        
        /* 页面内容容器 */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 10;
        }
        
        /* 爱心加载动画 */
        .heart-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--primary-color);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
            transition: opacity 1.5s ease;
        }
        
        .heart-container {
            position: relative;
            width: 300px;
            height: 300px;
        }
        
        .heart-piece {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: var(--secondary-color);
            border-radius: 50%;
            opacity: 0;
            transform: translate(-50%, -50%);
        }
        
        .heart-center {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 60px;
            height: 60px;
            background-color: var(--secondary-color);
            transform: translate(-50%, -50%) rotate(45deg);
            opacity: 0;
        }
        
        .heart-center::before,
        .heart-center::after {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            background-color: var(--secondary-color);
            border-radius: 50%;
        }
        
        .heart-center::before {
            top: -30px;
            left: 0;
        }
        
        .heart-center::after {
            top: 0;
            left: -30px;
        }
        
        .loading-text {
            margin-top: 30px;
            font-size: 1.5rem;
            color: var(--secondary-color);
            font-family: 'Ma Shan Zheng', cursive;
            letter-spacing: 3px;
        }
        
        /* 导航菜单 */
        .nav-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 249, 245, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(210, 105, 106, 0.1);
            z-index: 100;
            padding: 15px 0;
            transition: var(--transition);
        }
        
        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-logo {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 1.8rem;
            color: var(--secondary-color);
            text-decoration: none;
            letter-spacing: 2px;
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
        }
        
        .nav-link {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 8px 15px;
            border-radius: 30px;
            transition: var(--transition);
            position: relative;
        }
        
        .nav-link:hover {
            color: var(--secondary-color);
            background-color: rgba(248, 163, 176, 0.1);
        }
        
        .nav-link.active {
            color: var(--secondary-color);
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: var(--secondary-color);
        }
        
        .music-toggle {
            background: none;
            border: none;
            color: var(--secondary-color);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .music-toggle:hover {
            transform: scale(1.2);
        }
        
        /* 各章节通用样式 */
        .section {
            padding: 100px 0;
            position: relative;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }
        
        .section-title {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 3rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
            letter-spacing: 3px;
            position: relative;
            display: inline-block;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--secondary-color), transparent);
        }
        
        .section-subtitle {
            font-size: 1.2rem;
            color: var(--light-text);
            font-style: italic;
        }
        
        /* 封面区 */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            padding-top: 80px;
        }
        
        .hero-content {
            max-width: 800px;
            padding: 40px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 30px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            animation: floatUp 1.5s ease-out;
        }
        
        @keyframes floatUp {
            0% {
                opacity: 0;
                transform: translateY(50px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .hero-title {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 4.5rem;
            color: var(--secondary-color);
            margin-bottom: 20px;
            line-height: 1.2;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .hero-subtitle {
            font-size: 1.8rem;
            color: var(--light-text);
            margin-bottom: 40px;
            font-weight: 300;
        }
        
        .hero-text {
            font-size: 1.4rem;
            margin-bottom: 50px;
            line-height: 1.8;
        }
        
        .heart-divider {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px 0;
        }
        
        .heart-divider i {
            color: var(--secondary-color);
            font-size: 2rem;
            margin: 0 15px;
            animation: heartbeat 1.5s infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }
        
        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 40px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 18px 40px;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--secondary-color), #FF6B9D);
            color: white;
            box-shadow: 0 10px 20px rgba(248, 163, 176, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(248, 163, 176, 0.4);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--secondary-color);
            border: 2px solid var(--secondary-color);
        }
        
        .btn-secondary:hover {
            background-color: rgba(248, 163, 176, 0.1);
            transform: translateY(-5px);
        }
        
        /* 照片轮播区 */
        .photo-section {
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 30px;
            padding: 60px;
            margin: 40px 0;
            box-shadow: var(--shadow);
        }
        
        .photo-carousel {
            position: relative;
            height: 600px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .carousel-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .carousel-slide.active {
            opacity: 1;
        }
        
        .carousel-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .carousel-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            color: white;
            padding: 30px;
            transform: translateY(100%);
            transition: transform 0.5s ease;
        }
        
        .carousel-slide.active .carousel-caption {
            transform: translateY(0);
        }
        
        .caption-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-family: 'Ma Shan Zheng', cursive;
        }
        
        .caption-text {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .carousel-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            transform: translateY(-50%);
            z-index: 10;
        }
        
        .carousel-btn {
            background-color: rgba(255, 255, 255, 0.8);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--secondary-color);
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }
        
        .carousel-btn:hover {
            background-color: white;
            transform: scale(1.1);
        }
        
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        .carousel-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: rgba(248, 163, 176, 0.3);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .carousel-dot.active {
            background-color: var(--secondary-color);
            transform: scale(1.2);
        }
        
        /* 时间轴回忆区 */
        .timeline {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 100%;
            background: linear-gradient(to bottom, var(--secondary-color), var(--accent-color));
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 80px;
            width: 50%;
            padding-right: 50px;
        }
        
        .timeline-item:nth-child(even) {
            margin-left: auto;
            padding-right: 0;
            padding-left: 50px;
        }
        
        .timeline-content {
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            position: relative;
            transition: var(--transition);
        }
        
        .timeline-content:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(210, 105, 106, 0.2);
        }
        
        .timeline-date {
            font-family: 'Ma Shan Zheng', cursive;
            color: var(--secondary-color);
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        .timeline-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-color);
        }
        
        .timeline-text {
            color: var(--light-text);
            line-height: 1.6;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            top: 30px;
            right: -10px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            border: 5px solid var(--primary-color);
            z-index: 10;
        }
        
        .timeline-item:nth-child(even)::before {
            right: auto;
            left: -10px;
        }
        
        /* 告白卡片区 */
        .love-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }
        
        .love-card {
            background-color: white;
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .love-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 25px 50px rgba(210, 105, 106, 0.2);
        }
        
        .love-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
        }
        
        .card-icon {
            font-size: 3rem;
            color: var(--secondary-color);
            margin-bottom: 25px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(248, 163, 176, 0.1);
        }
        
        .card-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
            font-family: 'Ma Shan Zheng', cursive;
        }
        
        .card-text {
            color: var(--light-text);
            line-height: 1.8;
        }
        
        /* 互动祝福区 */
        .interactive-section {
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 30px;
            padding: 80px 60px;
            margin: 60px 0;
            box-shadow: var(--shadow);
            text-align: center;
        }
        
        .wish-counter {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        
        .counter-item {
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
            min-width: 200px;
            transition: var(--transition);
        }
        
        .counter-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .counter-number {
            font-size: 3rem;
            font-weight: 900;
            color: var(--secondary-color);
            margin-bottom: 10px;
            font-family: 'Dancing Script', cursive;
        }
        
        .counter-label {
            font-size: 1.2rem;
            color: var(--light-text);
        }
        
        .wish-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
            flex-wrap: wrap;
        }
        
        .wish-btn {
            padding: 15px 30px;
            border-radius: 50px;
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .wish-btn-heart {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .wish-btn-star {
            background-color: var(--accent-color);
            color: #5C4D3C;
        }
        
        .wish-btn-flower {
            background: linear-gradient(135deg, #FFB6C1, #FF69B4);
            color: white;
        }
        
        .wish-btn:hover {
            transform: translateY(-5px) scale(1.05);
        }
        
        .wish-messages {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 40px;
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
        }
        
        .wish-message {
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            text-align: left;
            animation: fadeIn 0.5s ease;
            border-left: 5px solid var(--secondary-color);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .message-author {
            font-weight: 700;
            color: var(--secondary-color);
        }
        
        .message-time {
            color: var(--light-text);
            font-size: 0.9rem;
        }
        
        .message-text {
            color: var(--text-color);
            line-height: 1.6;
        }
        
        /* 未来计划区 */
        .future-plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }
        
        .plan-card {
            background-color: white;
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .plan-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(210, 105, 106, 0.2);
        }
        
        .plan-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(248, 163, 176, 0.1), rgba(255, 215, 0, 0.1));
            opacity: 0;
            transition: var(--transition);
        }
        
        .plan-card:hover::before {
            opacity: 1;
        }
        
        .plan-icon {
            font-size: 3rem;
            color: var(--secondary-color);
            margin-bottom: 25px;
        }
        
        .plan-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
            font-family: 'Ma Shan Zheng', cursive;
        }
        
        .plan-text {
            color: var(--light-text);
            line-height: 1.8;
            margin-bottom: 25px;
        }
        
        .plan-status {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 30px;
            background-color: rgba(248, 163, 176, 0.2);
            color: var(--secondary-color);
            font-weight: 600;
        }
        
        /* 结束语区 */
        .ending-section {
            text-align: center;
            padding: 100px 0;
            position: relative;
        }
        
        .ending-heart {
            font-size: 5rem;
            color: var(--secondary-color);
            margin-bottom: 40px;
            animation: heartbeat 1.5s infinite;
        }
        
        .ending-title {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 3.5rem;
            color: var(--secondary-color);
            margin-bottom: 30px;
        }
        
        .ending-text {
            font-size: 1.5rem;
            max-width: 800px;
            margin: 0 auto 50px;
            line-height: 1.8;
        }
        
        .signature {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            color: var(--secondary-color);
            margin-top: 50px;
        }
        
        /* 页脚 */
        .footer {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 60px 0 30px;
            text-align: center;
            border-top: 1px solid rgba(184, 134, 92, 0.2);
        }
        
        .footer-text {
            font-size: 1.2rem;
            color: var(--light-text);
            margin-bottom: 20px;
        }
        
        .footer-icons {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 40px 0;
        }
        
        .footer-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: rgba(248, 163, 176, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary-color);
            font-size: 1.5rem;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .footer-icon:hover {
            background-color: var(--secondary-color);
            color: white;
            transform: translateY(-5px);
        }
        
        .copyright {
            color: var(--light-text);
            font-size: 0.9rem;
            margin-top: 30px;
        }
        
        /* 浮动彩蛋文字 */
        .floating-love {
            position: fixed;
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--secondary-color);
            font-weight: bold;
            pointer-events: none;
            z-index: 100;
            opacity: 0;
            animation: floatLove 3s ease-out forwards;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        @keyframes floatLove {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(1.5);
            }
        }
        
        /* 响应式设计 */
        @media (max-width: 992px) {
            .hero-title {
                font-size: 3.5rem;
            }
            
            .section-title {
                font-size: 2.5rem;
            }
            
            .photo-carousel {
                height: 500px;
            }
            
            .timeline::before {
                left: 30px;
            }
            
            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 0;
            }
            
            .timeline-item:nth-child(even) {
                margin-left: 0;
                padding-left: 70px;
            }
            
            .timeline-item::before {
                left: 20px;
                right: auto;
            }
            
            .timeline-item:nth-child(even)::before {
                left: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero-title {
                font-size: 2.8rem;
            }
            
            .hero-subtitle {
                font-size: 1.5rem;
            }
            
            .photo-carousel {
                height: 400px;
            }
            
            .carousel-caption {
                padding: 20px;
            }
            
            .caption-title {
                font-size: 1.5rem;
            }
            
            .caption-text {
                font-size: 1rem;
            }
            
            .interactive-section {
                padding: 50px 30px;
            }
            
            .btn {
                padding: 15px 30px;
                font-size: 1rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
        }
        
        @media (max-width: 576px) {
            .hero-title {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .photo-carousel {
                height: 300px;
            }
            
            .carousel-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .ending-title {
                font-size: 2.5rem;
            }
            
            .ending-text {
                font-size: 1.2rem;
            }
        }
        
        /* 滚动动画 */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- 流星雨效果 -->
    <div class="meteor-shower" id="meteorShower"></div>
    
    <!-- 爱心加载动画 -->
    <div class="heart-loader" id="heartLoader">
        <div class="heart-container" id="heartContainer">
            <!-- 爱心碎片将通过JS动态生成 -->
        </div>
        <div class="loading-text">正在加载我们的浪漫时光...</div>
    </div>
    
    <!-- 花朵和星光背景 -->
    <div id="petalsContainer"></div>
    <div id="starsContainer"></div>
    
    <!-- 导航菜单 -->
    <nav class="nav-container" id="navContainer">
        <div class="nav-content">
            <a href="#" class="nav-logo">时光告白 ❤</a>
            <div class="nav-links">
                <a href="#home" class="nav-link active">首页</a>
                <a href="#photos" class="nav-link">我们的瞬间</a>
                <a href="#timeline" class="nav-link">时光回忆</a>
                <a href="#love" class="nav-link">爱的告白</a>
                <a href="#future" class="nav-link">未来计划</a>
                <a href="#ending" class="nav-link">结束语</a>
            </div>
            <button class="music-toggle" id="musicToggle">
                <i class="fas fa-music"></i>
            </button>
        </div>
    </nav>
    
    <!-- 页面内容 -->
    <div class="container">
        <!-- 封面区 -->
        <section class="hero section" id="home">
            <div class="hero-content">
                <h1 class="hero-title">致我最爱的女孩</h1>
                <p class="hero-subtitle">2026 元旦快乐 · 时光告白限定</p>
                
                <div class="heart-divider">
                    <i class="fas fa-heart"></i>
                    <i class="fas fa-heart"></i>
                    <i class="fas fa-heart"></i>
                </div>
                
                <p class="hero-text">
                    宝宝，这是我们共度的第<span id="yearsCount">1</span>个元旦。<br>
                    虽然没能陪你迎接新年，但我们还来日方长。新的一年，我想继续牵着你的手，<br>
                    从寒冬到盛夏，从元旦到除夕，满心满眼，皆是你。
                </p>
                
                <div class="hero-buttons">
                    <button class="btn btn-primary" id="mainWishBtn">
                        <i class="fas fa-gift"></i> 开启元旦惊喜
                    </button>
                    <button class="btn btn-secondary" id="writeMessageBtn">
                        <i class="fas fa-pen"></i> 写下你的祝福
                    </button>
                    <button class="btn btn-secondary" id="seeMemoriesBtn">
                        <i class="fas fa-images"></i> 查看甜蜜回忆
                    </button>
                </div>
            </div>
        </section>
        
        <!-- 照片轮播区 -->
        <section class="section" id="photos">
            <div class="section-header">
                <h2 class="section-title">我们的甜蜜瞬间</h2>
                <p class="section-subtitle">Every moment with you is a treasure</p>
            </div>
            
            <div class="photo-section">
                <div class="photo-carousel">
                    <!-- 照片1：同志，你吃大蒜吗？ -->
                    <div class="carousel-slide active">
                        <img src="img/photo1.jpg" alt="同志，你吃大蒜吗？" class="carousel-image">
                        <div class="carousel-caption">
                            <h3 class="caption-title">同志，你吃大蒜吗？</h3>
                            <p class="caption-text">还记得那次给你喂大蒜吗？你那个痛苦面具的表情，我能笑一辈子！</p>
                        </div>
                    </div>
                    
                    <!-- 照片2：噜噜噜噜，我们喜欢你 -->
                    <div class="carousel-slide">
                        <img src="img/photo2.jpg" alt="噜噜噜噜，我们喜欢你" class="carousel-image">
                        <div class="carousel-caption">
                            <h3 class="caption-title">噜噜噜噜，我们喜欢你</h3>
                            <p class="caption-text">这个可爱的噜噜，是我们爱情的见证，每次看到它都会想起你</p>
                        </div>
                    </div>
                    
                    <!-- 照片3：我们喜欢女仆噜噜、睡衣噜噜 -->
                    <div class="carousel-slide">
                        <img src="img/photo3.jpg" alt="我们喜欢女仆噜噜、睡衣噜噜" class="carousel-image">
                        <div class="carousel-caption">
                            <h3 class="caption-title">我们喜欢女仆噜噜、睡衣噜噜</h3>
                            <p class="caption-text">女仆装和睡衣装的噜噜，都是你精心准备的，每一件都代表着你的心意</p>
                        </div>
                    </div>
                    
                    <!-- 照片4：oi小鬼，我在农砖很想你哟 -->
                    <div class="carousel-slide">
                        <img src="img/photo4.jpg" alt="oi小鬼，我在农砖很想你哟" class="carousel-image">
                        <div class="carousel-caption">
                            <h3 class="caption-title">oi小鬼，我在农专很想你哟</h3>
                            <p class="caption-text">在华农的每一个角落，都有我对你的思念</p>
                        </div>
                    </div>
                    
                    <!-- 照片5：世纪同框 -->
                    <div class="carousel-slide">
                        <img src="img/photo5.jpg" alt="世纪同框" class="carousel-image">
                        <div class="carousel-caption">
                            <h3 class="caption-title">世纪同框</h3>
                            <p class="caption-text">我们第一次打视频电话，这是世纪会晤</p>
                        </div>
                    </div>
                    
                    <!-- 照片6：羞羞 -->
                    <div class="carousel-slide">
                        <img src="img/photo6.jpg" alt="羞羞" class="carousel-image">
                        <div class="carousel-caption">
                            <h3 class="caption-title">羞羞</h3>
                            <p class="caption-text">脚踏两只绿蟑螂，身穿奶龙黄战袍，你还羞羞上了</p>
                        </div>
                    </div>
                    
                    <div class="carousel-nav">
                        <button class="carousel-btn" id="prevBtn">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="carousel-btn" id="nextBtn">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <div class="carousel-dots">
                    <div class="carousel-dot active" data-index="0"></div>
                    <div class="carousel-dot" data-index="1"></div>
                    <div class="carousel-dot" data-index="2"></div>
                    <div class="carousel-dot" data-index="3"></div>
                    <div class="carousel-dot" data-index="4"></div>
                    <div class="carousel-dot" data-index="5"></div>
                </div>
                
                <p style="text-align: center; margin-top: 30px; color: var(--light-text); font-style: italic;">
                    点击照片可查看描述，使用左右箭头或圆点切换照片
                </p>
            </div>
        </section>
        
        <!-- 时间轴回忆区 -->
        <section class="section" id="timeline">
            <div class="section-header">
                <h2 class="section-title">时光回忆录</h2>
                <p class="section-subtitle">Our journey through time</p>
            </div>
            
            <div class="timeline">
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年11月28日</div>
                        <h3 class="timeline-title">一见钟情</h3>
                        <p class="timeline-text">在我们招新宣讲会开始之前，我们偶遇，我们对视一眼，你对我一笑，那一眼就是我彻底沦陷的开始...</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月4日</div>
                        <h3 class="timeline-title">加上联系方式</h3>
                        <p class="timeline-text">我通过严浩源加上了你的微信，其实我本来觉得这很冒昧的，本来没想着严浩源会告诉你我想认识你的，我本来是想着通过偶然的机会去加你认识你的。刚开始加上，我还真的觉得很冒昧，也不知道怎么开口，如果不是你问我为什么不加你QQ，我还真得纠结好久怎么开口...</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月7日</div>
                        <h3 class="timeline-title">表明心意</h3>
                        <p class="timeline-text">你问我喜欢什么类型的，我说就是你这种的...</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月9日</div>
                        <h3 class="timeline-title">说出了我内心最真实的想法</h3>
                        <p class="timeline-text">我第一次说出了那句"我无时无刻不想和你在一起"...</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月10日</div>
                        <h3 class="timeline-title">送你的第一个礼物</h3>
                        <p class="timeline-text">之前看到你的手冻伤了，也挺你说你训练的时候很冷，手都冻伤了，我就想着给你买一副手套送给你吧，毕竟你这个南方小土豆不知道保暖。</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月15日</div>
                        <h3 class="timeline-title">你是个爱哭鬼</h3>
                        <p class="timeline-text">这一天晚上你在二教送了我唇膏；你听我告诉你我和王莎的事之后，生气的哭了，其实那个时候我心里是有很多的话的，但是我还是忍住没说出口，选择了哄你，第二天买了杯奶茶补偿你。</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月21日</div>
                        <h3 class="timeline-title">拎着大包小包的小帅</h3>
                        <p class="timeline-text">晚上我学习的十分烦躁了，想要吃点东西，就去步行街买了点吃的，最后拎着大包小包就跑到某个爱哭鬼的宿舍，给她送吃的去了。谁知道她脚踩两只绿蟑螂、身穿奶龙就出来了。</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月22日</div>
                        <h3 class="timeline-title">出现了，女仆噜噜！</h3>
                        <p class="timeline-text">某个爱哭鬼送了一个超级无敌可爱的噜噜给我，而且还说"为了让别人一看就知道是个女生送给你的"，转手就拿了一套女仆装给噜噜穿上了，还扬言道"我还给他买了一身睡衣，只是还没到"。</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月25日</div>
                        <h3 class="timeline-title">我不辛苦，我活该的</h3>
                        <p class="timeline-text">在四教，被逼无奈、受人胁迫给爱哭鬼画她的工图作业。她表现非常夸张，说什么我是世界上最帅的人、我是世界上最好的人...没事，我一点都不辛苦，我活该的。</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月28日</div>
                        <h3 class="timeline-title">武汉哪里的狂犬疫苗最好啊？</h3>
                        <p class="timeline-text">跟某个爱哭鬼共度晚餐的时候，给她喂大蒜，辣的她献出痛苦面具；晚上在二教逗她，结果她不经逗，冲着我的脸猛咬一口，痛死了，我真的想知道去哪打狂犬疫苗。</p>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <div class="timeline-date">2025年12月31日</div>
                        <h3 class="timeline-title">湿漉漉的狮山欢乐节</h3>
                        <p class="timeline-text">今天是狮山欢乐节，晚上我参加了食科院的游行，我出演了潇洒哥，结果某个人在游行的路线上来看我，生气生气；最后我们游行结束，我把道具还回去，在院楼拿了很多吃的，去到了操场上，某个爱哭鬼才回我消息，才来找我；只是可惜，因为下了雨，我在游行时被淋湿，实在是太冷了，没能和某个傻瓜跨年，不过以后还会有很多次机会...</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 告白卡片区 -->
        <section class="section" id="love">
            <div class="section-header">
                <h2 class="section-title">爱的告白</h2>
                <p class="section-subtitle">My heart speaks only for you</p>
            </div>
            
            <div class="love-cards">
                <div class="love-card fade-in">
                    <div class="card-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3 class="card-title">一见钟情</h3>
                    <p class="card-text">有人说一见钟情就是见色起意，但我不是。那天和你对视那一刻，我感觉我的世界里的时间都变慢了，有一种莫名奇妙的感觉从我胸口贯彻到我身体的每一个角落...</p>
                </div>
                
                <div class="love-card fade-in">
                    <div class="card-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3 class="card-title">你是我的星光</h3>
                    <p class="card-text">我是一个迷茫、堕落的人，也是一个悲观、冷漠的人，看到你，我就有了努力追上你的动力，和你相处，让我感受到久违的开心。</p>
                </div>
                
                <div class="love-card fade-in">
                    <div class="card-icon">
                        <i class="fas fa-hand-holding-heart"></i>
                    </div>
                    <h3 class="card-title">细水长流</h3>
                    <p class="card-text">我们之间的感情，是早晨来不及去食堂吃早饭的我拿到你特意给我带的早饭、是我们走在一起时被我逗开心的你、是工图课上坐在你旁边一点点指导你画图的我、也是看出你想要亲我我就主动迎上去的默契。</p>
                </div>
                
                <div class="love-card fade-in">
                    <div class="card-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 class="card-title">勇气</h3>
                    <p class="card-text">很显然，我们在一起会遇到无数的问题，我们会经历无数的坎坷，对于我们来说，每一个问题、坎坷都很可怕，每一个都足够拆散我们。我不知道我们能不能处理好，我不知道我们能不能坚持到最后，我只是知道，因为我喜欢你，我有勇气面对，有勇气面对一切的困难，有勇气迎接一切的困难。</p>
                </div>
            </div>
        </section>
        
        <!-- 互动祝福区 -->
        <section class="section">
            <div class="section-header">
                <h2 class="section-title">互动祝福</h2>
                <p class="section-subtitle">Send your love and blessings</p>
            </div>
            
            <div class="interactive-section">
                <p style="font-size: 1.5rem; margin-bottom: 30px;">
                    点击下面的按钮，为我们的爱情增添一份祝福吧！
                </p>
                
                <div class="wish-counter">
                    <div class="counter-item">
                        <div class="counter-number" id="heartCount">0</div>
                        <div class="counter-label">爱心祝福</div>
                    </div>
                    <div class="counter-item">
                        <div class="counter-number" id="starCount">0</div>
                        <div class="counter-label">星光愿望</div>
                    </div>
                    <div class="counter-item">
                        <div class="counter-number" id="flowerCount">0</div>
                        <div class="counter-label">花朵浪漫</div>
                    </div>
                </div>
                
                <div class="wish-buttons">
                    <button class="wish-btn wish-btn-heart" id="addHeartBtn">
                        <i class="fas fa-heart"></i> 送出爱心
                    </button>
                    <button class="wish-btn wish-btn-star" id="addStarBtn">
                        <i class="fas fa-star"></i> 许下愿望
                    </button>
                    <button class="wish-btn wish-btn-flower" id="addFlowerBtn">
                        <i class="fas fa-seedling"></i> 种下浪漫
                    </button>
                </div>
                
                <div class="wish-messages" id="wishMessages">
                    <!-- 祝福消息将在这里动态添加 -->
                </div>
            </div>
        </section>
        
        <!-- 未来计划区 -->
        <section class="section" id="future">
            <div class="section-header">
                <h2 class="section-title">我们的未来计划</h2>
                <p class="section-subtitle">Planning our tomorrow together</p>
            </div>
            
            <div class="future-plans">
                <div class="plan-card fade-in">
                    <div class="plan-icon">
                        <i class="fas fa-plane"></i>
                    </div>
                    <h3 class="plan-title">一起旅行</h3>
                    <p class="plan-text">我们要一起去看雪、一起去海边看海、一起去爬山...我们一定要去看看，你多看看世界，我多看看你。</p>
                    <div class="plan-status">计划中</div>
                </div>
                
                <div class="plan-card fade-in">
                    <div class="plan-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <h3 class="plan-title">健康相伴</h3>
                    <p class="plan-text">等我的膝盖痊愈，我们一定要每周都规律运动，吃健康的食物，坚持规律的作息，保持积极的心态。我们还要一起健康的走向未来。</p>
                    <div class="plan-status">进行中</div>
                </div>
                
                <div class="plan-card fade-in">
                    <div class="plan-icon">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <h3 class="plan-title">携手共进</h3>
                    <p class="plan-text">我们要一起努力，努力找到一个好的出路；我们要一起发奋图强，一起变好，迎接我们的未来。</p>
                    <div class="plan-status">进行中</div>
                </div>
                
                <div class="plan-card fade-in">
                    <div class="plan-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <h3 class="plan-title">共同的家</h3>
                    <p class="plan-text">我最希望在未来，我们能有一个共同的家，可以养几只小动物，种上几盆花，我们可以一起吃饭，一起看电影，一起在洗漱池上刷牙...</p>
                    <div class="plan-status">梦想中</div>
                </div>
            </div>
        </section>
        
        <!-- 结束语区 -->
        <section class="ending-section" id="ending">
            <div class="ending-heart">
                <i class="fas fa-heart"></i>
            </div>
            
            <h2 class="ending-title">元旦快乐，我的猪宝</h2>
            
            <p class="ending-text">
                猪宝，不知不觉都到了2026年了。<br>
                首先，我要感谢你能够出现在我的生命里，让我原本枯燥乏味的生活变得充满乐趣和阳光。<br>
                我们都很勇敢，喜欢一个人，就要勇敢的喜欢，勇敢的在一起。<br>
                2026年，这是我们新的开始，是独属于我们的故事的新的开篇...
            </p>
            
            <div class="heart-divider">
                <i class="fas fa-heart"></i>
                <i class="fas fa-heart"></i>
                <i class="fas fa-heart"></i>
            </div>
            
            <p class="footer-text">My favorite girl, happy New Year's Day 🎇</p>
            
            <div class="signature">永远爱你的小帅</div>
        </section>
    </div>
    
    <!-- 页脚 -->
    <footer class="footer">
        <div class="footer-icons">
            <div class="footer-icon" id="footerHeart">
                <i class="fas fa-heart"></i>
            </div>
            <div class="footer-icon" id="footerStar">
                <i class="fas fa-star"></i>
            </div>
            <div class="footer-icon" id="footerMusic">
                <i class="fas fa-music"></i>
            </div>
            <div class="footer-icon" id="footerMessage">
                <i class="fas fa-envelope"></i>
            </div>
        </div>
        
        <p class="footer-text">
            2026年1月1日 · 属于我们的元旦纪念<br>
            Time Confession · New Year's Day Special
        </p>
        
        <p class="copyright">
            Made with <i class="fas fa-heart" style="color: #F8A3B0;"></i> for the most special person in my life
        </p>
    </footer>
    
    <!-- 音乐播放器 -->
    <audio id="backgroundMusic" loop>
        <source src="music/romantic_music.mp3" type="audio/mpeg">
        <!-- 备用格式 -->
        <source src="music/romantic_music.ogg" type="audio/ogg">
        您的浏览器不支持音频播放。
    </audio>

    <script>
        // ============================================
        // 重要提示：如何替换照片
        // ============================================
        // 1. 准备六张照片，分别命名为：
        //    - photo1.jpg (同志，你吃大蒜吗？)
        //    - photo2.jpg (噜噜噜噜，我们喜欢你)
        //    - photo3.jpg (我们喜欢女仆噜噜、睡衣噜噜)
        //    - photo4.jpg (oi小鬼，我在农砖很想你哟)
        //    - photo5.jpg (世纪同框)
        //    - photo6.jpg (羞羞)
        // 2. 将照片放在与HTML文件同级的"img"文件夹中
        // 3. 替换下面六个图片路径为您的实际照片路径：
        //    第645行: src="img/photo1.jpg"
        //    第655行: src="img/photo2.jpg"
        //    第665行: src="img/photo3.jpg"
        //    第675行: src="img/photo4.jpg"
        //    第685行: src="img/photo5.jpg"
        //    第695行: src="img/photo6.jpg"
        // 4. 如果没有img文件夹，请创建一个，或将路径修改为您照片的实际位置
        // ============================================

        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 1. 初始化爱心加载动画
            initHeartAnimation();
            
            // 2. 创建流星雨效果
            createMeteorShower();
            
            // 3. 创建花朵和星光背景
            createPetals();
            createStars();
            
            // 4. 初始化导航菜单
            initNavigation();
            
            // 5. 初始化照片轮播
            initCarousel();
            
            // 6. 初始化互动计数器
            initCounters();
            
            // 7. 初始化滚动动画
            initScrollAnimation();
            
            // 8. 初始化音乐播放器 - 自动播放
            initMusicPlayer();
            
            // 9. 初始化祝福消息
            initWishMessages();
            
            // 10. 初始化按钮事件
            initButtonEvents();
            
            // 11. 初始化双击彩蛋
            initDoubleClickEasterEgg();
            
            // 12. 初始化年份计算
            initYearsCount();
        });
        
        // 初始化爱心加载动画
        function initHeartAnimation() {
            const heartLoader = document.getElementById('heartLoader');
            const heartContainer = document.getElementById('heartContainer');
            const pieces = 30;
            
            // 创建爱心碎片
            for (let i = 0; i < pieces; i++) {
                const piece = document.createElement('div');
                piece.classList.add('heart-piece');
                
                // 随机位置
                const angle = (i / pieces) * 2 * Math.PI;
                const radius = 150;
                const x = radius * Math.cos(angle);
                const y = radius * Math.sin(angle);
                
                piece.style.left = `calc(50% + ${x}px)`;
                piece.style.top = `calc(50% + ${y}px)`;
                
                // 随机延迟动画
                piece.style.animation = `heartBeat 1.5s ease-in-out ${i * 0.05}s forwards`;
                
                heartContainer.appendChild(piece);
            }
            
            // 创建中心爱心
            const centerHeart = document.createElement('div');
            centerHeart.classList.add('heart-center');
            centerHeart.style.animation = `heartBeat 1.5s ease-in-out 1.5s forwards`;
            heartContainer.appendChild(centerHeart);
            
            // 动画完成后隐藏加载界面
            setTimeout(() => {
                heartLoader.style.opacity = '0';
                setTimeout(() => {
                    heartLoader.style.display = 'none';
                    
                    // 加载完成后尝试自动播放音乐
                    setTimeout(() => {
                        const backgroundMusic = document.getElementById('backgroundMusic');
                        const playPromise = backgroundMusic.play();
                        
                        if (playPromise !== undefined) {
                            playPromise.then(() => {
                                // 音乐播放成功
                                console.log("音乐自动播放成功");
                                updateMusicButton(true);
                            }).catch(error => {
                                // 自动播放失败，等待用户交互
                                console.log("自动播放被阻止，等待用户交互");
                                enableMusicOnInteraction();
                            });
                        }
                    }, 500);
                }, 1500);
            }, 3000);
        }
        
        // 创建流星雨效果
        function createMeteorShower() {
            const meteorShower = document.getElementById('meteorShower');
            const meteorCount = 15; // 流星数量
            
            for (let i = 0; i < meteorCount; i++) {
                const meteor = document.createElement('div');
                meteor.classList.add('meteor');
                
                // 随机位置
                const startX = Math.random() * 100 + 100; // 从屏幕右侧开始
                const startY = Math.random() * 100 - 100; // 从屏幕顶部开始
                
                // 随机角度
                const angle = Math.random() * 30 + 15; // 15-45度
                
                // 随机长度
                const length = Math.random() * 150 + 100;
                meteor.style.height = `${length}px`;
                
                // 随机颜色
                const hue = Math.random() * 30 + 180; // 蓝色到青色
                meteor.style.background = `linear-gradient(to bottom, transparent, hsla(${hue}, 100%, 80%, 0.8), transparent)`;
                
                // 设置初始位置
                meteor.style.left = `${startX}%`;
                meteor.style.top = `${startY}px`;
                meteor.style.transform = `rotate(${angle}deg)`;
                
                // 随机动画延迟和持续时间
                const delay = Math.random() * 20;
                const duration = Math.random() * 3 + 2;
                
                meteor.style.animation = `meteorFall ${duration}s linear ${delay}s infinite`;
                
                // 添加流星尾迹
                meteor.style.boxShadow = `0 0 10px 1px hsla(${hue}, 100%, 80%, 0.8)`;
                
                meteorShower.appendChild(meteor);
            }
            
            // 添加流星雨动画关键帧
            const styleSheet = document.createElement('style');
            styleSheet.textContent = `
                @keyframes meteorFall {
                    0% {
                        opacity: 0;
                        transform: rotate(45deg) translateX(0) translateY(0);
                    }
                    10% {
                        opacity: 1;
                    }
                    90% {
                        opacity: 1;
                    }
                    100% {
                        opacity: 0;
                        transform: rotate(45deg) translateX(-100vw) translateY(100vh);
                    }
                }
            `;
            document.head.appendChild(styleSheet);
        }
        
        // 创建花朵背景
        function createPetals() {
            const petalsContainer = document.getElementById('petalsContainer');
            const petalCount = 30; // 花朵数量
            
            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                
                // 随机大小
                const size = Math.random() * 15 + 10;
                petal.style.width = `${size}px`;
                petal.style.height = `${size}px`;
                
                // 随机颜色
                const hue = Math.random() * 20 + 330; // 粉色系
                const saturation = Math.random() * 30 + 70;
                const lightness = Math.random() * 20 + 70;
                petal.style.background = `linear-gradient(135deg, hsl(${hue}, ${saturation}%, ${lightness}%), hsl(${hue + 20}, ${saturation}%, ${lightness}%))`;
                
                // 随机位置
                petal.style.left = `${Math.random() * 100}vw`;
                
                // 随机动画时长和延迟
                const duration = Math.random() * 20 + 15;
                const delay = Math.random() * 5;
                petal.style.animationDuration = `${duration}s`;
                petal.style.animationDelay = `${delay}s`;
                
                petalsContainer.appendChild(petal);
            }
        }
        
        // 创建星光背景
        function createStars() {
            const starsContainer = document.getElementById('starsContainer');
            const starCount = 50; // 星光数量
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // 随机大小
                const size = Math.random() * 5 + 2;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // 随机位置
                star.style.left = `${Math.random() * 100}vw`;
                star.style.top = `${Math.random() * 100}vh`;
                
                // 随机动画延迟
                const delay = Math.random() * 5;
                star.style.animationDelay = `${delay}s`;
                
                starsContainer.appendChild(star);
            }
        }
        
        // 初始化导航菜单
        function initNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.section, .hero, .ending-section');
            
            // 点击导航链接
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 更新活动链接
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 滚动到对应部分
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        window.scrollTo({
                            top: targetSection.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // 滚动时更新活动链接
            window.addEventListener('scroll', function() {
                let currentSection = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionHeight = section.clientHeight;
                    
                    if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
                        currentSection = '#' + section.id;
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === currentSection) {
                        link.classList.add('active');
                    }
                });
                
                // 导航栏透明度变化
                const navContainer = document.getElementById('navContainer');
                if (window.scrollY > 100) {
                    navContainer.style.backgroundColor = 'rgba(255, 249, 245, 0.95)';
                    navContainer.style.boxShadow = '0 5px 20px rgba(210, 105, 106, 0.15)';
                } else {
                    navContainer.style.backgroundColor = 'rgba(255, 249, 245, 0.9)';
                    navContainer.style.boxShadow = '0 5px 20px rgba(210, 105, 106, 0.1)';
                }
            });
        }
        
        // 初始化照片轮播
        function initCarousel() {
            const slides = document.querySelectorAll('.carousel-slide');
            const dots = document.querySelectorAll('.carousel-dot');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            let currentSlide = 0;
            
            // 显示指定幻灯片
            function showSlide(index) {
                // 确保索引在范围内
                if (index < 0) index = slides.length - 1;
                if (index >= slides.length) index = 0;
                
                // 隐藏所有幻灯片
                slides.forEach(slide => slide.classList.remove('active'));
                dots.forEach(dot => dot.classList.remove('active'));
                
                // 显示当前幻灯片
                slides[index].classList.add('active');
                dots[index].classList.add('active');
                
                currentSlide = index;
            }
            
            // 点击上一个按钮
            prevBtn.addEventListener('click', () => {
                showSlide(currentSlide - 1);
            });
            
            // 点击下一个按钮
            nextBtn.addEventListener('click', () => {
                showSlide(currentSlide + 1);
            });
            
            // 点击圆点
            dots.forEach(dot => {
                dot.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    showSlide(index);
                });
            });
            
            // 自动轮播
            let autoSlideInterval = setInterval(() => {
                showSlide(currentSlide + 1);
            }, 5000);
            
            // 鼠标悬停时暂停自动轮播
            const carousel = document.querySelector('.photo-carousel');
            carousel.addEventListener('mouseenter', () => {
                clearInterval(autoSlideInterval);
            });
            
            carousel.addEventListener('mouseleave', () => {
                autoSlideInterval = setInterval(() => {
                    showSlide(currentSlide + 1);
                }, 5000);
            });
            
            // 点击图片显示描述
            slides.forEach(slide => {
                slide.addEventListener('click', function() {
                    const caption = this.querySelector('.carousel-caption');
                    if (caption.style.transform === 'translateY(0px)') {
                        caption.style.transform = 'translateY(100%)';
                    } else {
                        caption.style.transform = 'translateY(0)';
                    }
                });
            });
        }
        
        // 初始化互动计数器
        function initCounters() {
            const heartCount = document.getElementById('heartCount');
            const starCount = document.getElementById('starCount');
            const flowerCount = document.getElementById('flowerCount');
            
            // 从本地存储读取计数或初始化为0
            let counts = JSON.parse(localStorage.getItem('loveCounts')) || {
                hearts: 0,
                stars: 0,
                flowers: 0
            };
            
            // 更新显示
            heartCount.textContent = counts.hearts;
            starCount.textContent = counts.stars;
            flowerCount.textContent = counts.flowers;
            
            // 添加爱心事件
            document.getElementById('addHeartBtn').addEventListener('click', function() {
                counts.hearts++;
                heartCount.textContent = counts.hearts;
                localStorage.setItem('loveCounts', JSON.stringify(counts));
                addWishMessage('爱心', '送出了一颗爱心，愿我们的爱情永远炽热！');
                createFloatingIcon('❤', 'var(--secondary-color)');
            });
            
            // 添加星星事件
            document.getElementById('addStarBtn').addEventListener('click', function() {
                counts.stars++;
                starCount.textContent = counts.stars;
                localStorage.setItem('loveCounts', JSON.stringify(counts));
                addWishMessage('星光', '许下了一个愿望，愿我们的未来如星光般璀璨！');
                createFloatingIcon('★', 'var(--accent-color)');
            });
            
            // 添加花朵事件
            document.getElementById('addFlowerBtn').addEventListener('click', function() {
                counts.flowers++;
                flowerCount.textContent = counts.flowers;
                localStorage.setItem('loveCounts', JSON.stringify(counts));
                addWishMessage('花朵', '种下了一朵浪漫，愿我们的感情如花般绽放！');
                createFloatingIcon('❀', '#FF69B4');
            });
        }
        
        // 初始化滚动动画
        function initScrollAnimation() {
            const fadeElements = document.querySelectorAll('.fade-in');
            
            function checkScroll() {
                fadeElements.forEach(element => {
                    const elementTop = element.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;
                    
                    if (elementTop < windowHeight - 100) {
                        element.classList.add('visible');
                    }
                });
            }
            
            // 初始检查
            checkScroll();
            
            // 滚动时检查
            window.addEventListener('scroll', checkScroll);
        }
        
        // 初始化音乐播放器 - 自动播放
        function initMusicPlayer() {
            const musicToggle = document.getElementById('musicToggle');
            const backgroundMusic = document.getElementById('backgroundMusic');
            const footerMusic = document.getElementById('footerMusic');
            
            // 设置音乐音量
            backgroundMusic.volume = 0.3; // 30%音量，避免太吵
            
            // 点击播放/暂停音乐
            function toggleMusic() {
                if (backgroundMusic.paused) {
                    backgroundMusic.play();
                    updateMusicButton(true);
                } else {
                    backgroundMusic.pause();
                    updateMusicButton(false);
                }
            }
            
            musicToggle.addEventListener('click', toggleMusic);
            footerMusic.addEventListener('click', toggleMusic);
            
            // 页面加载后尝试自动播放
            document.addEventListener('click', enableMusicOnInteraction, { once: true });
        }
        
        // 更新音乐按钮状态
        function updateMusicButton(isPlaying) {
            const musicToggle = document.getElementById('musicToggle');
            const footerMusic = document.getElementById('footerMusic');
            
            if (isPlaying) {
                musicToggle.innerHTML = '<i class="fas fa-pause"></i>';
                footerMusic.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                musicToggle.innerHTML = '<i class="fas fa-music"></i>';
                footerMusic.innerHTML = '<i class="fas fa-music"></i>';
            }
        }
        
        // 用户交互后启用音乐播放
        function enableMusicOnInteraction() {
            const backgroundMusic = document.getElementById('backgroundMusic');
            const playPromise = backgroundMusic.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    updateMusicButton(true);
                }).catch(error => {
                    console.log("音乐播放失败:", error);
                });
            }
        }
        
        // 初始化祝福消息
        function initWishMessages() {
            const wishMessages = document.getElementById('wishMessages');
            const messages = JSON.parse(localStorage.getItem('wishMessages')) || [];
            
            // 如果有保存的消息，显示它们
            messages.forEach(msg => {
                addWishMessageToDOM(msg.type, msg.text);
            });
            
            // 如果没有消息，添加默认消息
            if (messages.length === 0) {
                addWishMessage('系统', '欢迎来到我们的元旦祝福页面！点击按钮送出你的祝福吧~');
            }
        }
        
        // 添加祝福消息
        function addWishMessage(type, text) {
            // 保存到本地存储
            const messages = JSON.parse(localStorage.getItem('wishMessages')) || [];
            const newMessage = {
                type: type,
                text: text,
                time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})
            };
            messages.push(newMessage);
            
            // 只保留最近的10条消息
            if (messages.length > 10) {
                messages.shift();
            }
            
            localStorage.setItem('wishMessages', JSON.stringify(messages));
            
            // 添加到DOM
            addWishMessageToDOM(type, text, newMessage.time);
        }
        
        // 添加祝福消息到DOM
        function addWishMessageToDOM(type, text, time = null) {
            if (!time) {
                time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            }
            
            const wishMessages = document.getElementById('wishMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'wish-message';
            
            messageDiv.innerHTML = `
                <div class="message-header">
                    <span class="message-author">${type}</span>
                    <span class="message-time">${time}</span>
                </div>
                <p class="message-text">${text}</p>
            `;
            
            wishMessages.appendChild(messageDiv);
            
            // 滚动到底部
            wishMessages.scrollTop = wishMessages.scrollHeight;
        }
        
        // 创建浮动图标
        function createFloatingIcon(icon, color) {
            const floatingIcon = document.createElement('div');
            floatingIcon.className = 'floating-love';
            floatingIcon.textContent = icon;
            floatingIcon.style.color = color;
            floatingIcon.style.left = `${Math.random() * 80 + 10}vw`;
            floatingIcon.style.top = `${Math.random() * 50 + 25}vh`;
            
            document.body.appendChild(floatingIcon);
            
            // 3秒后移除
            setTimeout(() => {
                floatingIcon.remove();
            }, 3000);
        }
        
        // 初始化按钮事件
        function initButtonEvents() {
            // 主要祝福按钮
            document.getElementById('mainWishBtn').addEventListener('click', function() {
                addWishMessage('元旦惊喜', '开启了元旦惊喜！愿我们的2026年充满爱与幸福！');
                
                // 显示所有隐藏的动画
                document.querySelectorAll('.fade-in').forEach(el => {
                    el.classList.add('visible');
                });
                
                // 滚动到照片区域
                document.getElementById('photos').scrollIntoView({behavior: 'smooth'});
                
                // 按钮动画
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 200);
            });
            
            // 写祝福按钮
            document.getElementById('writeMessageBtn').addEventListener('click', function() {
                const userMessage = prompt('请输入你想对我说的元旦祝福：');
                if (userMessage && userMessage.trim() !== '') {
                    addWishMessage('你的祝福', userMessage);
                    alert('祝福已收到！谢谢你，亲爱的！');
                }
            });
            
            // 查看回忆按钮
            document.getElementById('seeMemoriesBtn').addEventListener('click', function() {
                document.getElementById('timeline').scrollIntoView({behavior: 'smooth'});
                
                // 为时间轴项目添加动画
                setTimeout(() => {
                    document.querySelectorAll('.timeline-item').forEach((item, index) => {
                        setTimeout(() => {
                            item.classList.add('visible');
                        }, index * 300);
                    });
                }, 500);
            });
            
            // 页脚图标事件
            document.getElementById('footerHeart').addEventListener('click', function() {
                document.getElementById('addHeartBtn').click();
            });
            
            document.getElementById('footerStar').addEventListener('click', function() {
                document.getElementById('addStarBtn').click();
            });
            
            document.getElementById('footerMessage').addEventListener('click', function() {
                document.getElementById('writeMessageBtn').click();
            });
        }
        
        // 初始化双击彩蛋
        function initDoubleClickEasterEgg() {
            let lastClickTime = 0;
            
            document.body.addEventListener('click', function(e) {
                const currentTime = new Date().getTime();
                
                if (currentTime - lastClickTime < 300) { // 双击检测
                    createFloatingLove(e.clientX, e.clientY);
                    
                    // 随机显示不同的爱的话语
                    const loveMessages = [
                        '我爱你', 'I love you', 'Je t\'aime', 'Ti amo', 
                        'Te amo', 'Ich liebe dich', '사랑해', '愛してる',
                        '我爱你到永远', 'You are my everything'
                    ];
                    
                    const randomMessage = loveMessages[Math.floor(Math.random() * loveMessages.length)];
                    createFloatingLoveText(e.clientX, e.clientY, randomMessage);
                }
                
                lastClickTime = currentTime;
            });
        }
        
        // 创建浮动爱意文字
        function createFloatingLoveText(x, y, text) {
            const floatingLove = document.createElement('div');
            floatingLove.className = 'floating-love';
            floatingLove.textContent = text;
            floatingLove.style.left = `${x}px`;
            floatingLove.style.top = `${y}px`;
            
            // 随机颜色
            const colors = ['#F8A3B0', '#FF6B9D', '#FF69B4', '#D2696A', '#FF1493'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            floatingLove.style.color = randomColor;
            
            document.body.appendChild(floatingLove);
            
            // 3秒后移除
            setTimeout(() => {
                floatingLove.remove();
            }, 3000);
        }
        
        // 创建浮动爱心（兼容原代码）
        function createFloatingLove(x, y) {
            createFloatingLoveText(x, y, '我爱你');
        }
        
        // 初始化年份计算
        function initYearsCount() {
            const yearsCount = document.getElementById('yearsCount');
            // 动画计数从0到1
            let count = 0;
            const interval = setInterval(() => {
                count++;
                yearsCount.textContent = count;
                if (count >= 1) {
                    clearInterval(interval);
                }
            }, 200);
        }
    </script>
</body>
</html>